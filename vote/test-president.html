<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="scripts/csvparser.js"></script>
    <title>Officer Elections 2020-2021</title>
</head>

<body>
    <div class="container">
        <br>
        <h1>Lake Travis Robotics Officer Elections 2020-2021</h1>
        <br>
        <h5>Read each candidate's bio here. When you are ready, click 'Vote Here' to vote.</h5>
        <p><b>Note: </b>The candidates are ordered alphabetically by last name and does not indicate a preference of candidates.</p>
        <br>
        <div class="accordion" id="accordionExample">
            <div class="card">
                <div class="card-header" id="headingOne">
                    <h2 class="mb-0">
                      <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Candidates for President
                      </button>
                    </h2>
                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm-3">
                        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                          <a class="nav-link active text-center" id="v-pills-home-tab" data-toggle="pill" href="#pillsOneOne" role="tab" aria-controls="pillsOne" aria-selected="true">Introductions</a>
                          <a class="nav-link text-center" id="v-pills-profile-tab" data-toggle="pill" href="#pillsOneTwo" role="tab" aria-controls="pillsTwo" aria-selected="false">Qualifications</a>
                          <a class="nav-link text-center" id="v-pills-profile-tab" data-toggle="pill" href="#pillsOneThree" role="tab" aria-controls="pillsThree" aria-selected="false">Uniquenesses</a>
                          <a class="nav-link text-center" id="v-pills-messages-tab" data-toggle="pill" href="#pillsOneFour" role="tab" aria-controls="pillsFour" aria-selected="false">Goals</a>
                          <a class="nav-link text-center" id="v-pills-messages-tab" data-toggle="pill" href="#pillsOneFive" role="tab" aria-controls="pillsFive" aria-selected="false">Leadership</a>
                          <a class="nav-link text-center" id="v-pills-messages-tab" data-toggle="pill" href="#pillsOneSix" role="tab" aria-controls="pillsSix" aria-selected="false">Videos</a>
                        </div>
                      </div>
                      <div class="col-sm-9">
                        <div class="tab-content" id="v-pills-tabContent">
                          <div class="tab-pane fade show active" id="pillsOneOne" role="tabpanel" aria-labelledby="pillsOne">
                            <h5>Introduction</h5><hr>
                            <p id="title"> </p><br>
                            <h5>Who are you? (answer as you wish...)</h5><hr>
                            <div id="intro">
                            </div>
                          </div>
                          <div class="tab-pane fade" id="pillsOneTwo" role="tabpanel" aria-labelledby="pillsTwo">
                            <h5>Why do you think you are qualified for this position?</h5><hr>
                            <div id="qual">
                            </div>
                          </div>
                          <div class="tab-pane fade" id="pillsOneThree" role="tabpanel" aria-labelledby="pillsThree">
                            <h5>What will you uniquely bring to this position?</h5><hr>
                            <div id="uniq">
                            </div>
                          </div>
                          <div class="tab-pane fade" id="pillsOneFour" role="tabpanel" aria-labelledby="pillsFour">
                            <h5>What are your goals for the robotics program?</h5><hr>
                            <div id="goals">
                            </div>
                          </div>
                          <div class="tab-pane fade" id="pillsOneFive" role="tabpanel" aria-labelledby="pillsFive">
                            <h5>Describe your leadership style.</h5><hr>
                            <div id="lead">
                            </div>
                          </div>
                          <div class="tab-pane fade" id="pillsOneSix" role="tabpanel" aria-labelledby="pillsSix">
                            <h5>Videos</h5>
                            <p>View a video of each candidate here!</p><br><br>
                            <div class="row">
                              <div class="col-sm">
                                <h6>Truett Anstey</h6>
                                <iframe src="https://drive.google.com/file/d/1W6k5kpzNQr_U5Rx9osJRXjv9EolqhJg2/preview" width="100%" height="240"></iframe>
                              </div>
                              <div class="col-sm">
                                <h6>Katie Goclan</h6>
                                <iframe src="https://drive.google.com/file/d/1LA4ZQSuW8ruDr-tphUKm9oHnhfxDMmoa/preview" width="100%" height="240"></iframe>
                              </div>
                            </div>
                            <br>
                            <div class="row">
                              <div class="col-sm">
                                <h6>Preston Greenwood</h6>
                                <iframe src="https://drive.google.com/file/d/1oxjuaWbJ4dkYCi5sPwa0mDaJPc8JIMa-/preview" width="100%" height="240"></iframe>
                              </div>
                              <div class="col-sm">
                                <h6>Sarah Kelbaugh</h6>
                                <iframe src="https://drive.google.com/file/d/1Yxc1x5qKfHLJA8KJ1cBqQcodf57S_vgN/preview" width="100%" height="240"></iframe>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </div>
        <br>
        <button class="btn btn-primary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            Vote Here
        </button>
        </p>
        <div class="collapse" id="collapseExample">
            <div class="card card-body">
              <form action="https://formcarry.com/s/VMG4y-PK3rEY" method="POST" accept-charset="UTF-8" >
                    <h3>Ballot for Officer Elections for 2020-2021</h3>
                    <br>
                    <div class="row">
                        <div class="col">
                            <input type="text" class="form-control" name="name" placeholder="Name" required>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" name="ident" placeholder="Student ID" required>
                        </div>
                    </div>
                    <br>
                    <h5>President</h5>
                    <p><b>Note: </b>This is an <a href="https://en.wikipedia.org/wiki/Instant-runoff_voting">Instant Runoff(IR)</a> election. The candidate who places second will be Vice President</p><br>
                    <h6>Select your 1st Choice for President</h6>
                    <select id="choice1" name="president1" class="custom-select" required>
                        <option selected disabled value>Choose one...</option>
                        <option value ="1">Truett Anstey</option>
                        <option value ="2">Katie Goclan</option>
                        <option value ="3">Preston Greenwood</option>
                        <option value ="4">Sarah Kelbaugh</option>
                    </select><br><br>
                    <h6>Select your 2nd Choice for President</h6>
                    <select id="choice2" name="president2" class="custom-select" required>
                        <option selected disabled value>Choose one...</option>
                        <option value ="1">Truett Anstey</option>
                        <option value ="2">Katie Goclan</option>
                        <option value ="3">Preston Greenwood</option>
                        <option value ="4">Sarah Kelbaugh</option>
                    </select><br><br>
                    <h6>Select your 3rd Choice for President</h6>
                    <select id="choice3" name="president3" class="custom-select" required>
                        <option selected disabled value>Choose one...</option>
                        <option value ="1">Truett Anstey</option>
                        <option value ="2">Katie Goclan</option>
                        <option value ="3">Preston Greenwood</option>
                        <option value ="4">Sarah Kelbaugh</option>
                    </select><br><br>
                    <h6>Select your 4th Choice for President</h6>
                    <select id="choice4" name="president4" class="custom-select" required>
                        <option selected disabled value>Choose one...</option>
                        <option value ="1">Truett Anstey</option>
                        <option value ="2">Katie Goclan</option>
                        <option value ="3">Preston Greenwood</option>
                        <option value ="4">Sarah Kelbaugh</option>
                    </select>
                    <br><br>
                    <button type="submit" class="btn btn-primary">Submit Ballot</button>
                    <a href="https://ltrobotics.org/vote/" type="button" class="btn btn-outline-danger">Clear Ballot</a>
                    <br><br>
                  </form>
                    <p><b>Problems? </b>Contact <a href="mailto:vote@ltrobotics.org">vote@ltrobotics.org</a> for assistance.</p>

            </div>
        </div>
        <br>
        <br>
        <br>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
    <script>
    //scripts for filling in each section
    var names = ["Truett", "Katie", "Sarah", "Preston"];
    var intro = Papa.parse("https://ltrobotics.org/vote/president.csv", {
	     download: true,
    });
    var tabs = ["intro", "qual", "uniq", "goals", "lead"];//hardcoded list
    var candNum = names.length;
    //change detailed numbers
    document.getElementById("title").innerHTML = "There are " + candNum + " candidates for President. Each candidate has been asked to provide a response to each of the questions in the sidebar.";
    //add names to each section
    var i;
    for (i = 0; i < candNum; i++) {
      var j;
      for (j = 0; j < 5; j++) {
        //insert names in bold
        var tab = document.getElementById(tabs[j]);
        var node = document.createElement("P");
        var bold = document.createElement("B");
        var namenode = document.createTextNode(names[i]);
        bold.appendChild(namenode);
        node.appendChild(bold);
        tab.appendChild(node);
        //insert text
        var text = document.createElement("P");
        var textnode = document.createTextNode(intro[j][i]);
        text.appendChild(textnode);
        tab.appendChild(text);
      }
    }
    //change names inside of the ballot
    //below is script for ballot
    var opOne = document.getElementById("choice1").getElementsByTagName("option");
    var opTwo = document.getElementById("choice2").getElementsByTagName("option");
    var opThree = document.getElementById("choice3").getElementsByTagName("option");
    var opFour = document.getElementById("choice4").getElementsByTagName("option");
    var picks = ["0", "0", "0", "0"]
    var loc = [0, 0, 0, 0]
    document.getElementById('choice1').addEventListener('change', function () {
      picks[0] = this.value;
      update();
    });
    document.getElementById('choice2').addEventListener('change', function () {
      picks[1] = this.value;
     update();
    });
    document.getElementById('choice3').addEventListener('change', function () {
      picks[2] = this.value;
     update();
    });
    document.getElementById('choice4').addEventListener('change', function () {
      picks[3] = this.value;
      loc[4] = 1
     update();
    });
    function update() {
      for (var i = 0; i < 5; i++) {
        opOne[i].disabled = false;
        opTwo[i].disabled = false;
        opThree[i].disabled = false;
        opFour[i].disabled = false;
      }
      for (var j = 0; j < 4; j++) {
        if(j !== 0) {			// then disables all four picks on all four dropdowns
          opOne[parseInt(picks[j])].disabled = true;
        }
        if(j !== 1) {
          opTwo[parseInt(picks[j])].disabled = true;
        }
        if(j !== 2) {
          opThree[parseInt(picks[j])].disabled = true;
        }
        if(j !== 3) {
          opFour[parseInt(picks[j])].disabled = true;
        }
      }
    }
  </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>

</html>
